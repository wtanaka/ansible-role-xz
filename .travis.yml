language: ruby
rvm:
- 2.2
- 1.9.3
env:
- DOCKER_IMAGES=centos:6 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=centos:6 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=centos:6 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=centos:6 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=centos:7 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=debian:7 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=debian:8 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=debian:8 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=debian:8 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=debian:8 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=fedora:20 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=fedora:25 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=fedora:25 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=fedora:25 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=fedora:25 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=ubuntu:14.04 ANSIBLE_VERSIONS=2.1.0.0
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.4.4
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.6.1
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=1.8.4
- DOCKER_IMAGES=ubuntu:16.04 ANSIBLE_VERSIONS=2.1.0.0
sudo: false
services:
- docker
script:
- wget -O- bit.ly/ansibletest | sh -x
after_failure:
- cat role-tester-ansible-master/.kitchen.yml
- cat role-tester-ansible-master/.kitchen.local.yml
- cat role-tester-ansible-master/.kitchen/logs/*.log | grep -v '^I, '
notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    on_success: change
    on_failure: change
    rooms:
      - secure: YEQzvq9KkvE/GCGRKWlq+5odtdnkX+eyVf2CfZWDLwQ9qTlvIPILpW8DtOTRbjcQFCndN5a243cYM/uJC2nN9Qd07QDxIg8G86FGboRG65mYP7ZPm2bNeupHjv4vNUdbjTpV3cr3SRwrQNxKK4yqggE2ebH9EtmpdeNzZv6pBykaTloX3vl96M9oRoVWFCQc8exzWKMQibQzQf5osN9Udl3VI3D0HSofPA5F8Rbw8yUMmhvuGEYvuxJB2WiD02LnJL84nXALi0qnY7//8vs8fv7nIOpSHUijUMPiOMcr6QLmshCIryM/uKdl7fqidzhbwXvFp62FIVhQGnqT8PiWzrKQSEbzFm1g+b1R77ty9OikX8SWflHi4sFSv+L1jVF/TOdA5kvMyiap99fc6AGTJiSbGaaiLLXa+pTEZi9ZB82fklhYZdfhXC6dmdiu5afEPsXUB8kNSXlltdhB1XCIkL0YXjjIiWSb4HyZbmQtAyFceghYMRgegrhZnD+3eif4eVoPDVQHZZHuYSmw4j2n5/36rNVqNbimreWbQbnJJDW+5n/W3DPqjhG2Doe0dDTzgoidOTxckR4MMXuAzr4NWvg3HNdQRS0S30BxBUFAXbfcxdkjU10GUfcPAs2LZ7MfzlnlN2IuIfhxNEQ6MP/CGQF/7ZVBR1XN1GV9kWRfRy4=
  email:
    recipients:
      secure: Tte4gIBjuo4SA9gJt5Eto0B3WQB2QdmU6Z9Df8C/R9mTGNteXLCLxzhUuufaHCh9YPf2nBiPHBW3Z2C8jtDCTOF9RUq2d0COEPtjlCz8r2W25SdhItORe/Vof4JTMk6mmK5359llo+NFBzY3mylnmfoK4kMC9drwuKkIucTVJBozpE6RySQz6ookHH1zOlij2G/UKD3i2MGj/K9h4O0ESGSlle9xuaCN6pBcC7DU3ZspHzD3U1NE/kJlfXzPn65mOQ/cOxi8xp1DFKgAZ4rCuxyg2unkSWR/lroHm5OfJ3PoeweIse+6ZGez0PQQWy6iiks0VB38TnjdIuAnobFwmLYE4S0RysBp1BaGoH+a9Q91whe5VM93bRQKsB6ER/EjbyGtUKrId89B+DtSXcVaR28EbffSxpU8RBTuIqV6zVosCYeSJzsSgEDXAHKRkVaS2mPN6XNuWxeul0Ad4BVS9XH50zZC7V9z4hecHCL0CXf8fmMZ91M0wQG5D/wA5fYAsqBfAYUPSM9WyHSr3DIIag5b75vYk0dNBoB/F74xkGtfULYOvRhhBULXuzEaAKAKAhZGmCDS0WvuCgif8grY0FveyU2dXNAt/mTKyxoSU3x8ZwPzGwu4wmqEi3ryJIy40S/Er2VD4Knwgg1GPujjkYTUp0VK5kYFH4eQpWlef04=
